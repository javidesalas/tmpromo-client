[{"/Users/javidesalas/Dropbox/WebDev/JM TM Promo/client/src/index.js":"1","/Users/javidesalas/Dropbox/WebDev/JM TM Promo/client/src/App.js":"2","/Users/javidesalas/Dropbox/WebDev/JM TM Promo/client/src/components/Form.js":"3","/Users/javidesalas/Dropbox/WebDev/JM TM Promo/client/src/services/form.services.js":"4","/Users/javidesalas/Dropbox/WebDev/JM TM Promo/client/src/components/Uploader.js":"5","/Users/javidesalas/Dropbox/WebDev/JM TM Promo/client/src/components/Success.js":"6"},{"size":272,"mtime":1615445587541,"results":"7","hashOfConfig":"8"},{"size":370,"mtime":1615445850420,"results":"9","hashOfConfig":"8"},{"size":7193,"mtime":1616055882786,"results":"10","hashOfConfig":"8"},{"size":403,"mtime":1611898582000,"results":"11","hashOfConfig":"8"},{"size":1082,"mtime":1615443234931,"results":"12","hashOfConfig":"8"},{"size":687,"mtime":1615450932526,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"1elc2jm",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"16"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"16"},"/Users/javidesalas/Dropbox/WebDev/JM TM Promo/client/src/index.js",[],["30","31"],"/Users/javidesalas/Dropbox/WebDev/JM TM Promo/client/src/App.js",[],"/Users/javidesalas/Dropbox/WebDev/JM TM Promo/client/src/components/Form.js",["32","33","34"],"import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport ReactDOM from \"react-dom\";\nimport { Formik, Form, useFormikContext, useField } from \"formik\";\nimport * as Yup from \"yup\";\n\n\nimport FormService from \"../services/form.services\";\nimport Uploader from \"./Uploader\";\n\n\nconst validationSchema = Yup.object().shape({\n\tfirstName: Yup.string()\n\t\t.min(2, \"Demasiado Corto\")\n\t\t.max(50, \"Demasiado Largo\")\n\t\t.required(\"Campo obligatorio\"),\n\tlastName: Yup.string()\n\t\t.min(2, \"Demasiado Corto\")\n\t\t.max(50, \"Demasiado Largo\")\n\t\t.required(\"Campo obligatorio\"),\n\tbirthDate: Yup.date()\n\t\t.required(\"Campo obligatorio\")\n\t\t.test(\n\t\t\t\"age\",\n\t\t\t\"Debes ser mayor de 18 años para participar\",\n\t\t\tfunction (birthdate) {\n\t\t\t\tconst cutoff = new Date();\n\t\t\t\tcutoff.setFullYear(cutoff.getFullYear() - 18);\n\t\t\t\treturn birthdate <= cutoff;\n\t\t\t}\n\t\t),\n\tzipCode: Yup.number()\n\t\t.min(1000, \"Código Postal No Válido\")\n\t\t.max(52999, \"Código Postal No Válido\")\n\t\t.required(\"Campo obligatorio\"),\n\temail: Yup.string()\n\t\t.trim()\n\t\t.lowercase()\n\t\t.email(\"Email inválido\")\n\t\t.required(\"Campo obligatorio\"),\n\tphone: Yup.string().trim().min(9, \"Teléfono incorrecto\"),\n\tcode: Yup.string()\n\t\t.length(7, \"Longitud de código incorrecta\")\n\t\t.matches(/^JG[A-Z0-9]{5}/, \"Código inválido\"),\n\tboughtAt: Yup.string(),\n\tacceptedTerms: Yup.boolean()\n\t\t.required(\"Campo obligatorio\")\n\t\t.oneOf([true], \"Debes aceptar los términos y condiciones\"),\n});\n\nconst MyTextInput = ({ label, ...props }) => {\n\tconst [field, meta] = useField(props);\n\treturn (\n\t\t<div className=\"form_row\">\n\t\t\t<label className=\"form_label\" htmlFor={props.id || props.name}>\n\t\t\t\t{label}\n\t\t\t</label>\n\t\t\t<input className=\"form_input\" {...field} {...props} />\n\t\t\t{meta.touched && meta.error ? (\n\t\t\t\t<div className=\"form_error\">{meta.error}</div>\n\t\t\t) : null}\n\t\t</div>\n\t);\n};\n\nconst MyCheckbox = ({ children, ...props }) => {\n\tconst [field, meta] = useField({ ...props, type: \"checkbox\" });\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"form_checkRow\">\n\t\t\t\t<input\n\t\t\t\t\tclassName=\"form_input_checkbox \"\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t{...field}\n\t\t\t\t\t{...props}\n\t\t\t\t/>\n\n\t\t\t\t<label className=\"checkbox-input\">{children}</label>\n\t\t\t</div>\n\t\t\t{meta.touched && meta.error ? (\n\t\t\t\t<div className=\"form_error\">{meta.error}</div>\n\t\t\t) : null}\n\t\t</div>\n\t);\n};\n\nconst MySelect = ({ label, ...props }) => {\n\tconst [field, meta] = useField(props);\n\treturn (\n\t\t<div className=\"form_row\">\n\t\t\t<label className=\"form_label\" htmlFor={props.id || props.name}>\n\t\t\t\t{label}\n\t\t\t</label>\n\t\t\t<select className=\"form_input\" {...field} {...props} />\n\t\t\t{meta.touched && meta.error ? (\n\t\t\t\t<div className=\"form_error\">{meta.error}</div>\n\t\t\t) : null}\n\t\t</div>\n\t);\n};\n\nconst MyUrl = (props) => {\n\tconst { setFieldValue } = useFormikContext();\n\tconst [field, meta] = useField(props);\n\n\tuseEffect(() => {\n\t\tsetFieldValue(props.name, props.imageurl);\n\t}, [props.imageurl, props.name]);\n\n\treturn (\n\t\t<>\n\t\t\t<input {...props} {...field} />\n\t\t</>\n\t);\n};\n\n\n\nconst EntryForm = () => {\n\tconst [uploadingImage, setUploadingImage] = useState(false);\n\tconst [submitError, setSubmitError] = useState(\"\");\n\tconst [imageUrl, setImageUrl] = useState(\"\");\n\t// const [formHeight, setFormHeight] = useState(null)\n\n\tconst entryService = new FormService();\n\tconst history = useHistory();\n\n\t// const handleChange = () => {\n\t// \tif (window) {\n\t// \t\tconst height = document.getElementById(\"wrapper\").scrollHeight;\n\t// \t\tif (height !== formHeight) {\n\t// \t\t\tsetFormHeight(height);\n\t// \t\t}\n\t// \t}\n\t// };\n\n\t// useEffect(() => {\n\t\t\n\t// \twindow &&\n\t// \t\twindow.addEventListener(\n\t// \t\t\t\"message\",\n\t// \t\t\t(message) => {\n\t// \t\t\t\tif (message.data === \"loaded\") {\n\t// \t\t\t\t\tconst height = formHeight ? formHeight : document.getElementById(\"wrapper\").scrollHeight;\n\t\t\t\t\t\t\n\t// \t\t\t\t\tconsole.log(height)\n\t// \t\t\t\t\twindow.parent.postMessage(height, \"https://www.jagermeister.com\");\n\t\t\t\t\t\t\n\t// \t\t\t\t}\n\t// \t\t\t},\n\t// \t\t\tfalse\n\t// \t\t);\n\t// },[formHeight])\n\n\treturn (\n\t\t<div className=\"formContainer\" id=\"wrapper\">\n\t\t\t<span className=\"form_error\">Todos los campos son obligatorios </span>\n\t\t\t<Formik\n\t\t\t\tinitialValues={{\n\t\t\t\t\tfirstName: \"\",\n\t\t\t\t\tlastName: \"\",\n\t\t\t\t\tbirthDate: \"\",\n\t\t\t\t\tzipCode: \"\",\n\t\t\t\t\temail: \"\",\n\t\t\t\t\tphone: \"\",\n\t\t\t\t\tcode: \"\",\n\t\t\t\t\tboughtAt: \"\",\n\t\t\t\t\timageUrl: \"\",\n\t\t\t\t\tacceptedTerms: \"\",\n\t\t\t\t}}\n\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\tonSubmit={(values, { setSubmitting }) => {\n\t\t\t\t\tentryService\n\t\t\t\t\t\t.newEntry(values)\n\t\t\t\t\t\t.then((response) => history.push(\"/success\"))\n\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\tconsole.log(err.response.data.error);\n\t\t\t\t\t\t\tsetSubmitError(err.response.data.error);\n\t\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t\tvalidateOnChange=\"false\"\n\t\t\t\t// onChange = {handleChange}\n\t\t\t>\n\t\t\t\t<Form>\n\t\t\t\t\t<MyTextInput\n\t\t\t\t\t\tlabel=\"Nombre\"\n\t\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Tu nombre\"\n\t\t\t\t\t/>\n\t\t\t\t\t<MyTextInput\n\t\t\t\t\t\tlabel=\"Apellidos\"\n\t\t\t\t\t\tname=\"lastName\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Tus apellidos\"\n\t\t\t\t\t/>\n\t\t\t\t\t<MyTextInput\n\t\t\t\t\t\tlabel=\"Fecha de Nacimiento\"\n\t\t\t\t\t\tname=\"birthDate\"\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\tplaceholder=\"Tu fecha de nacimiento\"\n\t\t\t\t\t/>\n\t\t\t\t\t<MyTextInput\n\t\t\t\t\t\tlabel=\"Código Postal\"\n\t\t\t\t\t\tname=\"zipCode\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Tu código postal\"\n\t\t\t\t\t/>\n\t\t\t\t\t<MyTextInput\n\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Tu correo electrónico\"\n\t\t\t\t\t/>\n\t\t\t\t\t<MyTextInput\n\t\t\t\t\t\tlabel=\"Teléfono\"\n\t\t\t\t\t\tname=\"phone\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Tu teléfono\"\n\t\t\t\t\t/>\n\t\t\t\t\t<MyTextInput\n\t\t\t\t\t\tlabel=\"Código Jägermeister\"\n\t\t\t\t\t\tname=\"code\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Tu código de participación\"\n\t\t\t\t\t/>\n\t\t\t\t\t<MySelect label=\"Comprado En:\" name=\"boughtAt\">\n\t\t\t\t\t\t<option value=\"\" disabled style={{ color: \"#193B01\" }}>\n\t\t\t\t\t\t\tElige el punto de venta\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"Ahorramas\" style={{ color: \"#193B01\" }}>\n\t\t\t\t\t\t\tAhorramás\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"Alcampo\" style={{ color: \"#193B01\" }}>\n\t\t\t\t\t\t\tAlcampo\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"Bon Preu\" style={{ color: \"#193B01\" }}>\n\t\t\t\t\t\t\tBon Preu\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"Caprabo\" style={{ color: \"#193B01\" }}>\n\t\t\t\t\t\t\tCaprabo\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"Carrefour\" style={{ color: \"#193B01\" }}>\n\t\t\t\t\t\t\tCarrefour\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"Eroski\" style={{ color: \"#193B01\" }}>\n\t\t\t\t\t\t\tEroski\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"ECI\" style={{ color: \"#193B01\" }}>\n\t\t\t\t\t\t\tEl Corte Inglés, Supercor, Hipercor\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"Otros\" style={{ color: \"#193B01\" }}>\n\t\t\t\t\t\t\tOtros\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</MySelect>\n\t\t\t\t\t<Uploader\n\t\t\t\t\t\timageUrl={imageUrl}\n\t\t\t\t\t\tsetImageUrl={setImageUrl}\n\t\t\t\t\t\tuploadingImage={uploadingImage}\n\t\t\t\t\t\tsetUploadingImage={setUploadingImage}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"uploaderPlaceholder\"></div>\n\n\t\t\t\t\t<MyUrl name=\"imageUrl\" type=\"hidden\" imageurl={imageUrl} />\n\n\t\t\t\t\t<MyCheckbox name=\"acceptedTerms\">\n\t\t\t\t\t\tAcepto los términos y condiciones\n\t\t\t\t\t</MyCheckbox>\n\n\t\t\t\t\t{submitError && <p className=\"form_error-submit\">{submitError}</p>}\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"form_submitBtn\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tdisabled={uploadingImage}\n\t\t\t\t\t>\n\t\t\t\t\t\tEnviar\n\t\t\t\t\t</button>\n\t\t\t\t</Form>\n\t\t\t</Formik>\n\t\t</div>\n\t);\n};\n\nexport default EntryForm;\n","/Users/javidesalas/Dropbox/WebDev/JM TM Promo/client/src/services/form.services.js",[],["35","36"],"/Users/javidesalas/Dropbox/WebDev/JM TM Promo/client/src/components/Uploader.js",[],"/Users/javidesalas/Dropbox/WebDev/JM TM Promo/client/src/components/Success.js",["37"],"import React from 'react';\nimport OneBottleTm from \"./one_bottleTM.png\";\n\nconst Success = () => {\n    return (\n\t\t\t<div className=\"success-container\">\n\t\t\t\t{/* <img className=\"success-img\" src={OneBottleTm} alt=\"Ice Cold Machine\" /> */}\n\t\t\t\t<div className=\"success-text\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tEL REGISTRO SE HA COMPLETADO CON ÉXITO Y NUESTRO EQUIPO ESTÁ\n\t\t\t\t\t\tCOMPROBANDO LA VALIDEZ DE TU TICKET. EN CASO DE QUE TU CÓDIGO\n\t\t\t\t\t\tRESULTE GANADOR, CONTACTAREMOS CONTIGO A TRAVÉS DE LOS DATOS DE\n\t\t\t\t\t\tCONTACTO QUE NOS HAS FACILITADO.{\" \"}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tMIENTRAS TANTO, VIEL GLÜCK, O LO QUE ES LO MISMO: ¡BUENA SUERTE!\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n};\n\nexport default Success;",{"ruleId":"38","replacedBy":"39"},{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","severity":1,"message":"43","line":3,"column":8,"nodeType":"44","messageId":"45","endLine":3,"endColumn":16},{"ruleId":"42","severity":1,"message":"46","line":104,"column":16,"nodeType":"44","messageId":"45","endLine":104,"endColumn":20},{"ruleId":"47","severity":1,"message":"48","line":108,"column":5,"nodeType":"49","endLine":108,"endColumn":33,"suggestions":"50"},{"ruleId":"38","replacedBy":"51"},{"ruleId":"40","replacedBy":"52"},{"ruleId":"42","severity":1,"message":"53","line":2,"column":8,"nodeType":"44","messageId":"45","endLine":2,"endColumn":19},"no-native-reassign",["54"],"no-negated-in-lhs",["55"],"no-unused-vars","'ReactDOM' is defined but never used.","Identifier","unusedVar","'meta' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'setFieldValue'. Either include it or remove the dependency array.","ArrayExpression",["56"],["54"],["55"],"'OneBottleTm' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"57","fix":"58"},"Update the dependencies array to be: [props.imageurl, props.name, setFieldValue]",{"range":"59","text":"60"},[2872,2900],"[props.imageurl, props.name, setFieldValue]"]